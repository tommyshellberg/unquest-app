appId: com.vaedros.unquest.development
---
# NOTE: This test assumes you've already handled the developer menu
# Run this after manually dismissing the developer menu or after running a setup test

# =============================================================================
# WELCOME SCREEN
# =============================================================================
- assertVisible: 'unQuest'
- assertVisible: 'Begin New Journey'

- tapOn: 'Begin New Journey'
- waitForAnimationToEnd

# =============================================================================
# CHARACTER NAME SCREEN
# =============================================================================
- assertVisible: 'Your Character'
- assertVisible: 'Character Name'

- tapOn: 'Enter character name'
- inputText: 'MaestroHero'
- tapOn: 'Continue'
- waitForAnimationToEnd

# =============================================================================
# CHARACTER TYPE SELECTION
# =============================================================================
- assertVisible: "Choose MaestroHero's Character Type"
- assertVisible: 'ALCHEMIST'

- tapOn: 'Create Character'
- waitForAnimationToEnd

# =============================================================================
# HANDLE APP INTRO SCREENS (if they appear)
# =============================================================================
- runFlow:
    when:
      visible: 'Welcome to unQuest'
    commands:
      - tapOn: 'Got it'
      - waitForAnimationToEnd

# =============================================================================
# FIRST QUEST SCREEN
# =============================================================================
- assertVisible: 'Your Journey Begins'
- assertVisible: 'Wake up'

- tapOn: 'Wake up'
- waitForAnimationToEnd

# =============================================================================
# PENDING QUEST SCREEN
# =============================================================================
- assertVisible: 'Quest Ready'
- assertVisible: 'Lock your phone to begin your quest'

# =============================================================================
# START QUEST BY LOCKING PHONE
# =============================================================================
- pressKey: Lock

# =============================================================================
# WAIT FOR QUEST COMPLETION (2 minutes)
# =============================================================================
# Use multiple shorter waits
- repeat:
    times: 12
    commands:
      - waitForAnimationToEnd

# =============================================================================
# UNLOCK AND VERIFY QUEST COMPLETION
# =============================================================================
- pressKey: Lock

# Swipe to unlock
- swipe:
    start: 50%, 80%
    end: 50%, 20%
    duration: 500

- waitForAnimationToEnd

# =============================================================================
# QUEST COMPLETION SCREEN
# =============================================================================
- assertVisible: 'Quest Complete'
- assertVisible: 'XP Gained'

- tapOn: 'Continue'
- waitForAnimationToEnd

# =============================================================================
# SIGNUP SCREEN
# =============================================================================
- assertVisible: 'Create Account'
- assertVisible: 'Save your progress'

- tapOn: 'Email'
- inputText: 'testquester@example.com'
- tapOn: 'Create Account'
- waitForAnimationToEnd

# =============================================================================
# EMAIL VERIFICATION SCREEN
# =============================================================================
- assertVisible: 'Check your email'
- assertVisible: 'testquester@example.com'

appId: com.vaedros.unquest.development
---
- clearState
- launchApp

# Wait for app to fully load
- waitForAnimationToEnd

# Handle dev server if needed
- runFlow:
    when:
      visible: 'Development servers'
    commands:
      - tapOn: 'http://10.0.2.2:8081'

# Handle developer menu - tap Continue if visible
- runFlow:
    when:
      visible: 'Continue'
    commands:
      - tapOn: 'Continue'
      - waitForAnimationToEnd

# Try to close developer menu using X button if still visible
- runFlow:
    when:
      visible: 'unQuest'
    commands:
      - tapOn:
          point: "95%, 10%"  # Tap near the X button in top right
      - waitForAnimationToEnd

# Now wait for the actual app content
- extendedWaitUntil:
    visible: "Wake up"
    timeout: 10000

- tapOn: "Wake up"

# Wait and see what screen appears next
- waitForAnimationToEnd

# Take a screenshot to see where we are
- takeScreenshot: "after-wake-up"